<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="userFragments/headAndJsScripts :: head">

    <title>MathArena</title>
</head>

<body id="reportsPage">
<div th:replace="userFragments/navBar :: navBar"></div>
<div class="container mt-5">
    <br><br><br>
</div>
<div class="container mt-5">
    <div class="leaderboard">
        <h1 style="text-align: center">
            <img th:src="@{/images/cup.png}" style="width: 40px">
            Top
        </h1>
        <ol>
            <li th:each="t : ${topUsers}" onclick="alert('TODO:go to user profile')">
                <div class="container mt-5">
                    <div class="row tm-content-row">
                        <div class="col-12 tm-block-col">
                            <div class="tm-bg-primary-dark tm-block tm-block-h-auto">
                                <div class="row">
                                    <div class="col">
                                        <div style="display: inline-block">
                                            <img th:src="${t.getKey().getProfilePicturePath()}"
                                                 alt="img" style="width: 80px; border-radius: 50%">

                                        </div>
                                        <div style="display: inline-block">
                                            <h4 th:if="${t.getKey().getFirstName()}" th:text="${t.getKey().getFirstName() + ' ' + t.getKey().getLastName()}"
                                                style="color: white;"></h4>
                                            <h4 th:if="${t.getKey().getName()}" th:text="${t.getKey().getName()}"
                                                style="color: white;"></h4>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="progress">
                                            <div class="progress-bar bg-info" role="progressbar" style="height: 20px"
                                                 th:style="'width:' +  ${t.getKey().getPercentDto()} + '%'">
                                            </div>
                                            <p th:text="${t.getValue() + ' din ' + problemsSize }"
                                               style="color: orangered"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </li>
        </ol>
    </div>
</div>
<div th:replace="userFragments/headAndJsScripts :: scripts"></div>
<script>
    $(function () {
        $(".tm-product-name").on("click", function () {
            window.location.href = "edit-product.html";
        });
    });
</script>
</body>
</html>